QuakeWorld TeamFortress 2003
by [sd] angel for MTFL

Полный список всех изменений и дополнений на 20.08.2004.
fix - исправление всевозможных ошибок
add - мелкие (имхо), но полезные дополнения
new - различные нововведения
opt - опциональные возможности (от fix до new)

Скаут:
[fix] По команде "discard" теперь сбрасываются и cells.
      // Как и положенно дискарду, сбрасывает все неиспользуемые типы боеприпасов.
      В некоторых версиях cells использовались для работы сканера, но в 2.8 этого нет.
[fix] Мертвый скаут не может снимать детпаки.
      // Раньше мертвым скаутом можно было начать снимать детпак. Если же респавниться
      сразу после этого, то детпак снимался уже сам.
[fix] Исправлен и дополнен класс хелп.
      // Теперь он соответствует действительности.
[fix] Сканер теперь показывает ближайшего противника.
      // Раньше он выбирал кого-то одного, в заданом радиусе, и показывал только на него.
      Если же этот игрок уходил слишком далеко, сканнер вообще никого не показывал,
      при том, что рядом были и другие игроки противника.
[fix] Убрана ошибка с изменением расстояния скана.
      // Раньше все сканы работали с абсолютно одинаковым scanrange.
      Теперь диапазон работы сканера действительно можно регулировать алиасами.
[add] Добавлен новый алиас scan50, фактически заменяющий scan100.
      // Так как скан, более чем на 50, не работает (и не работал) впринципе.
      Алиас scan100 оставлен для совместимости конфигов.
[add] Работают алиасы scane и scanf, для сканирования чужих и своих, соответственно.
      // Ранее для этого использовался пре-импульс.
[add] Сканер может показывать более чем на одного игрока.
      // Это возможность была в TF изначально. Только реализована она была так, что клиент ее
      не отрабатывал правильно и потому не отрисовал более одной молнии.
[add] Возможность показа сканером только одной, самой ближайшей цели.
      Работает при "setinfo ms off" или "setinfo multiscan off".
      // Для тех, кому привычнее играть со старым видом сканера.
[new] Встроен автоматический сканер. Включается/выключается командой "autoscan".
      Срабатывает раз в полсекунды. Радиус действия 30 или последний использовавшийся.
      // Ранее это реализовывалось путем забиндивания сканов на движение.
      Что приводило к передаче лишних пакетов и потере более важных импульсов.
[new] Консольные сообщения "Scanning.." и "No blips.." не выводятся при автоскане.
      // Что бы лишнего спама в консоли не было.
[new] Статус автоскана (off/on) и все его настройки выводится в статус бар.
      // Просто очень удобно.
[new] Введены новые impulse для pre-impulse 159:
      162 - scanf_off  "Friendly Scanning disabled.\n"
      163 - scanf_on  "Friendly Scanning enabled.\n"
      164 - scane_off  "Enemy Scanning disabled.\n"
      165 - scane_on  "Enemy Scanning enabled.\n"
      166 - autoscan_off  "Scanner off.\n"
      167 - autoscan_on  "Scanner on.\n"
      // Для удобства настройки сканера.
[new] Настройки сканера не сбрасываются после смерти.
      // Не придется писать лишние скрипты или каждый раз тратить время на настройку скана.
[opt] Новый эффект от flash гранаты: В течении 1.6 секунды экран монитора полностью белый.
      В течении 1.6 секунды не поступает информация запрашиваемая по команде "id".
      В течении 1.6 секунды не поступает визуальная информация об entity (данная функция
      работает только под qwsv262).
      Выключается на сервере "localinfo new_flash off" или "localinfo nf off".
      // Раньше яркость была не полной, из-за чего на разных настройках видео флэш мог
      выглядеть несколько по разному. Теперь на 1.6 сенунды флэшить будет всех одинакого.
      В случае работы серверной части, противника не сможет увидеть даже игрок с антифлэш :).

Снайпер:
[fix] Исправлен и дополнен класс хелп.
      // Теперь он соответствует действительности.
[add] При попадании пуль в стены, рисуются соответствующие спрайты.
      // Как и у всех остальных классов.
[opt] Мощность снайперской винтовки больше не зависит от fps у игрока (default "snip_fps 72").
      Регулируется на сервере "localinfo snip_fps <число>" или "localinfo sf <число>".
      // Раньше, у игрока с большим fps снайперка взводилась быстрее, чем у игрока с меньшим.
      Таким образом первый игрок получал дополнительное приемущество перед вторым.
      Сейчас всем задается единая скорость взведения винтовки, аналогичная игре с 72 fps.
[opt] Возможность снятия ограничения на дальность прицельного выстрела.
      Включается на сервере "localinfo snip_range_fix on" или "localinfo srf on".
      // На самом деле, ограничение на дальность прицельного выстрела - это баг :),
      вызваный переполненим буффера. Но сам факт такого ограничения вполне логичен.
      Фикс сделан опциональным, так как он влияет на геймплей на ряде карт.
[opt] Возможность увеличения расхода патронов за один выстрел из sniper rifle.
      Выключается на сервере "localinfo snip_ammo <число>" (default 1)
       // Раньше снайпер мог убить очень много противников, вообще не двигаясь с места.
       Теперь ему придется заботится еще и о количестве своих боеприпасов.
[opt] Возможность увеличения минимального времени между двумя выстрелами из sniper rifle.
      На работу остальных импульсов этот параметр не влияет (они работают, как раньше).
      Выключается на сервере "localinfo snip_time <число>" (default 1.5)
       // Что бы снипы на паблике стреляли чуть реже :)

Солдат:
[fix] Убран баг с пролетанием nail grenade сквозь потолок.
      // Ранее нейлу можно было кинуть так, что она пролетала через потолок (любой толщины)
      или стену в верхнее или соседнее помещение.
[add] Команда "special" теперь переключает между ракетницей и двухстволкой.
      // Ранее "special" использовался как алиас для "reload", что просто не рационально.

Демоман:
[fix] Исправлен класс хелп.
      // Теперь он соответствует действительности.
[fix] Детпак телефрагается, если игрок респавнится внутри него.
      // Теперь нельзя (случайно или специально) заблокировать точку респавна детпаком.
[fix] Детпаки больше нельзя скидывать.
      // Раньше поставленный (на кнопку) детпак можно было легко скинуть на пол.
[fix] Убран баг с проваливанием гранат MIRVы сквозь пол.
      // Раньше, при разрыве MIRV, некоторые гранаты из нее могли попасть внутрь стены
      и провалиться в соседнее или нижнее помещение>
[opt] В 1,5 раза увеличено минимальное допустимое расстояние между двумя детпаками.
      (Старое значение расстояния можно вернуть, включив на сервере "localinfo dtpb off")
      // Теперь между двуми детпаками всегда может пройти игрок.
[add] Добавлена отдельная модель для пайп-лаунчера.
      // Сама моделька такая же, как и у обычного гренад лаунчера, но отличается желтой
      полоской сверху. Очень удобно и наглядно при переключении между лаунчерами.
      В новой серсии клиента qw262 на нее устаналивается cl_currentweapon 7.
[new] Сделана дополнительная пайпа для салюта (одна на команду).
      Выключается на сервере "localinfo add_pipe off".
      // Если у одного демомана разложен полный трап, а другой будет использовать один пайп
      для салюта, то пайпы из трапа первого не будут взрываться. Если же они решат поделить
      пайпы для двух трапов, то разложить более семи одновременно у них уже не получится.
[new] Полное время до взрыва детпака выводится в статус бар.
      // Раньше для этого приходилось использовать отдельный таймер.
[new] Статус детпака показывается по команде "inv", в независимости от текущего класса
      самого игрока.
      // Игрок всегда может видет состояние своего детпака.
[new] При использовании на сервере altprogs максимальное количество pipes будет
      увеличено до 30.
      // Как в LanTF.
[new] При использовании на сервере altprogs MIRV будет распадаться на 12 гранат.
      // Как в LanTF.

Медик:
[fix] Убран баг с лечением флэша.
      // С появлением новых гранат в 2.8 медик разучился лечить повреждения от старых.
      Вместо лечения флэша он наоборот делал его действие постоянным.
      Теперь он лечит флэш так, как и должен (взято из нынешней версии).
[fix] Когда выбран топор, показывается текущее количество аптечек.
      // Раньше оно вообще не показывалось, а в 2.9 показывалось, но не изменялось
      по мере использования :). Сейчас все работает правильно.
[add] Команда "special" переключает между топором и супер-нейлганом.
      Если гвоздей нет, то между топором и двухстволкой.
      // В ранних версиях "special" переключал топор между биовеапуном и медикитом.
      После того, как две этих функции объединили в одну, смысл в использовании данного
      алиаса отпал. Сейчас же он переключает между топором и основным имеющимся оружием.
[new] Теперь может лечить и "серверный" флэш.
      // На то он и медик :)

Хевигай:
[fix] Энтити "item_armorinv" везде дает до 300 красного армора.
      // На некоторых старых картах (сделаных до того, как хевигаю дали максимум
      в 300 армора), он не мог взять красного армора более 200 или 250 единиц.
      Сейчас максимальное берущееся число армора на всех картах одинакого.
[fix] Теперь может нормально стрелять, стоя на дне водоема.
      // Объективно говоря, это была бага не ТФ, а QW сервера, для которого даже неподвижно
      стоящий на дне воды игрок, все равно имеет скорость. Скорость эта на столько высока,
      что папик не может начать стрелять, из раскрученной пушки. Эту ошибку удалось обойти.
[fix] Убран консольный спам, возникавший при попытке раскрутить пушку в прыжке.
      // Раньше, сообщение о том, что нельзя стрелять в воздухе выдавалось порядка десяти раз
      в секунду (точно не считал) и забивало все другия сообщения в консоли.
[add] Команда "special" переключает между пушкой и двухстволкой.
      // В ранних версиях "special" просто переключал на пушку.
[add] Измененено отображение попаданий из пушки - показывается реальный разброс дробинок.
      // Выглядит на много более эффектно :).
[new] Урон от стрельбы из пушки увеличен в 2 раза (как в TF2.9). Первая половина урона
      соответствует TF2.8, а вторая увеличивает разброс в 3 раза, в течении 3 сек стрельбы.
      // В 2.8 пушка была эффективна на средней дистанции, благодаря отсутствию разброса.
      Но на ближней дистанции ей не хватало мощности (с учетом расхода патронов урон от
      нее должен был быть вообще в три раза больше :)). В 2.9 урон увеличили в два раза,
      но сделали очень большой разброс. Пушка получилась эффективной только для очень
      ближнего боя. В данном случае, был сделан именно промежуточный вариант.
[new] Убрано дрожание экрана при стрельбе из пушки (но и конк теперь действует по-полной).
      // Раньше, благодаря этому дрожанию, на хевика практически не действавал эффект от
      concussion grenade, т.е. он мог стрелять под ним так же метко, как и без него.
[new] Возможность невысоких прыжков на своих гранатах. От них теперь бросает в 2 раза
      слабее, чем у других классов (раньше от любых гранат бросало в 3 раза слабее).
      // Хэвик был единственым классом, который не мог увеличивать свою скорость за счет
      гранат и запрыгивать куда-либо. Теперь он может ускоряться или запрыгивать на невысокие
      балконы второго этажа.
[opt] Возможность регулировки минимального количество шеллсов, после достижения которого
      пушка автоматически переключается на двухстволку: "setinfo sb <число>" (default 20).
      // Хэвик единственый класс, использующий один тип патронов для всех видов оружия.
      По этой причине и из-за высокой скорострельности пушки, он очень часто остается
      вообще без патронов. Дабы немного сбалансировать данный класс изнути, было сделано
      разделение уже имеющихся боеприпасов на две части: для ружей и для пушки. Таким
      образом, число и тип носимых боеприпасов остался неизменным.

Пиро:
[fix] Убран баг с падением болванки напалма.
      // Модель гранаты висит там же, где взрывается сам напалм (взято из нынешней версии)
[fix] Если нет ракет или батареек, то команда "special" всегда переключает на второе основное
      оружие (огнемет или ракетницу, соответственно).
      // Раньше, в такой ситуации, переключившись руками на бумстик, нельзя было вернуться
      с помощью "special" обратно.
[fix] Постройки больше не горят под водой - там теперь ничего нельзя поджечь.
      // Горящие игроки, при соприкосновении с водой, перестают гореть. Поджечь игрока в воде
      и раньше было нельзя. Но вот постройки (если их умудриться поджечь) горели как обычно.
[fix] Огоньки огнемета гаснут касаясь воды.
      // Огнемет изначально не работал под водой, однако находясь над ее поверхностью раньше
      можно было пусить струю огня под воду.
[add] При стрельбе из огнемета, динамическое освещение идет не только от ствола самого
      оружия, но и от всего языка пламени.
      // Огонь теперь не только греет, но и светит :)
[add] Возможность замены модельки огнемета, независимо от модельки гренад-лаунчера.
      // Моделька огнемета теперь называется v_flame.mdl и прилагается дополнительно.
      На самом деле, это всего лишь переименованая стандартная моделька v_rock.mdl.
      Однако, теперь вы можете самостоятельно заменить ее на любую понравившуюся,
      без ущерба для модельки гренад-лаунчера у демомана.
[new] При использовании на сервере altprogs огнемет будет поджигает поверхности.
      // Как в LanTF.
[new] При использовании на сервере altprogs напалм будет распадаться на flames.
      // Как в LanTF.
[new] При использовании на сервере altprogs максимальное количество flames будет
      увеличено до 60.
      // Как в LanTF.

Спай:
[fix] По команде "discard" теперь сбрасываются и cells.
      // Как и положенно дискарду, сбрасывает все неиспользуемые типы боеприпасов.
      В ранних версиях батарейки использовались для работы спаевских функций,
      но потом от этого отказались. Однако сами батпарейки в дискард добавить забыли.
[fix] С фейнутого спая не берется "id".
      // Раньше, сделав "id" на лежащего спая, можно было безошибочно распознать его.
      В сочетании с используемым большинство autoid, это не оставляло спаю никаких шансов.
[fix] По фейнутому спаю не стреляет сентри.
      // Если неперекрашенный спай фейнился рядом с пушкой, пушка стреляла над ним,
      до тех пор, пока в ней не кончались патроны.
[fix] Когда спай фейнится он выбрасывает все goal_items.
      // Раньше получался просто светящийся трупик, который не всегда было видно.
[fix] Меню "special" корректно работает на картах, где несущему флаг спаю запрещенно
      перекрашиваться.
      // Раньше оно не выводилось вообще, а сейчас выводится в сокращенном виде,
      то есть без пунктов для смены цвета и скина.
[add] Дополнен класс хелп.
      // Теперь он соответствует действительности.
[add] Когда спай лежит, в статус бар выводится надпись "feigned".
      // Удобно и наглядно (особенно тем, кто отключает модели оружия).
[add] Возможность замены модельки транквилизатора, независимо от модельки ружья.
      // Моделька транквилизатора теперь называется v_tgun.mdl и прилагается дополнительно.
      На самом деле, это всего лишь переименованая стандартная моделька v_shot.mdl.
      Однако, теперь вы можете самостоятельно заменить ее на любую понравившуюся,
      без ущерба для моделек ружей у остальных классов.
[new] Теперь берет в нычке жетый армор.
      // Ранее, 100 единиц зеленого армора выглядили откровенной издевкой над спаем.
      Все из них он мог использовать лишь в случае, если бы его постоянно лечил медик :).
      Иначе потратить более 50 единиц зеленого армора было физически не реально.
      Кроме того, по этим 100 единицам армора, его легко мог распознать вражеский инж.
[new] Максимально количество армора сокращено до 70 единиц.
      // Если 100 единиц зеленого армора были издевательством над самим спаем,
      то 100 единиц желтого армора - это уже издевательство над всеми остальными :).
      Сейчас сделано 70, как промежуточное значение между 40 (при 90 единицах здоровья,
      100 единиц зеленого армора фактически равны 40 единицам желтого) и 100 единицами.
      Этого вполне достаточно для прыжка на гранате (остается еще ~10 брони и ~50 жизни).
[new] Может фейнится в воздухе.
      // А почему бы и нет? Ведь скорость при фейне всегда сбрасывается до нуля и эффектно
      пролететь вражеский дефенс на гранате, прикинувшьсь трупом, все равно не выйдет :)
[new] Может бесшумно фейнится использую команду "sfeign"
      // Вроде как, давно стандартная во всем мире возможность :)
[new] В меню "special" добавлена команда на Silent Feign.
      // Раз есть команда, то она должна быть и в меню.
[new] Новый эффект газа. Под его воздействием, случайным образом меняются skin и цвет
      (skin в 2 раза реже чем цвет) других игроков, находящихся в поле зрения, а так же не
      работает id на них. Отвлекающие взрывы и звуки работают как и в старом газе.
      // Смена палитры в старом газе под GL работала только в QW262. К тому же, в Win2000
      и WinXP она вообще ни под каким GL-клиентом не работала. Из-за этого эффект газа стал
      практически бесполезным и от него страдали только те, кто играл в soft'е или под Win9*.
      Сейчас сделана возможность произвольной смены цвета игроков не за счет палитры.
[opt] Возможность гибкой настройки для нового газа.
      Задается на сервере "localinfo new_gas <число>":
      1 - смена цвета игроков (синий/красный).
      2 - смена скинов игроков.
      4 - смена цвета игроков (синий/красный/желтый/зеленый).
      8 - смена цвета игроков (все цвета).
      16 - изменение палитры (в GL под Win2000 и WinXP не работает).
      32 - добавляются эффекты от new_gren (дополнительные звуки и взрывы).
      64 - смена скинов игроков на спаевские.
      128 - отключение id.
      256 - время действие от new_gren.
      512 - дамейдж от new_gren.
      default new_gas 131.
      old_gren на газ не влияет.
      old_gren on = new_gas 16.
      old_gren off = new_gas 800.
      // Просто возможность нстройки эффектов.

Инженер:
[fix] Дополнен класс хелп.
      // Теперь он соответствует действительности.
[fix] Убрана ошибка с dropcells.
      // При скидывании cells, инженер фактически делает cells из cells.
      Раньше, за счет ошибки при округлении, он мог из 9 cells сделать 10.
[fix] EMP не взрывает постройки своей команды, если на сервере выключен френдли файр.
      // Очевидный баг, хотя и не особо актуальный в наше время.
[fix] Частично поправлен баг сентри с непопаданием шеллами.
      // Стардартная пушка из 2.8.1 часто не попадает шеллами при стрельбе.
      Данный фикс, взятый из 2.8.1b1, решает эту проблему на большинстве карт.
[add] Статус бар демонстрирует наличие и здоровье диспенсера.
      // Раньше наличие диспенсера приходилось контролировать через меню "build".
[add] Команда "id" показывает здоровье, патроны и ракеты у любой из сентри своей команды.
       Так же показывается и здоровье у диспов.
      // Не нужно каждый раз подходить и проверять все это ударами спаннера.
[add] Добавлено сообщение о взрыве диспенсера (причина взрыва не сообщается).
      // Ранее это вообще никак не отслеживалось.
[add] При включенном на сервере "watervis 1" пушка наводится и стреляет сквозь воду.
      // Если игрок может видеть пушку, то и она должна его видеть :)
[new] Новый алгоритм стрельбы шеллами у сентри. Теперь она попадает во все, что видит.
      // Стандартный лиговский фикс не исправлял баг полностью. Новый алгоритм делает это.
[new] Возможность сделать поиск цели у сентри независимый от числа игроков, при помощи
      задания аналога определенного числа игроков на сервере.
      Регулируется на сервере "localinfo sgppl <число >" (default 12).
      // Сейчас, при игре полными составами и атака на оборону, пушка наводится по-разному.
      Теперь на трене 3 на 3 можно сделать, что бы пушка наводилась так же, как в полной
      игре. Ну, или наоборот, что бы пушка вообще не торомозила на полном сервере.
[opt] Новая проверка места перед постройкой, предотвращающая возможное проваливание
      объектов сквозь пол (требуется qwsv262 от 28.02.04).
      Отключается "localinfo new_build_check off" или "localinfo nbc off".
      // Иначе постройки иногда могут проваливаться через цельный пол.
[opt] Возможность выбора между различными алгоритмами работы сентри.
      Включается на сервере:
      "localinfo sg old" - поиск цели из 2.8, выстрел шеллами из 2.8.
      "localinfo sg oldf" - поиск цели новый, выстрел шеллами из 2.8.
      "localinfo sg mtflf" - поиск цели новый, выстрел шеллами лиговский (из tf2.8.1b1).
      "localinfo sg fix" - поиск цели из 2.8, выстрел шеллами новый.
      "localinfo sg oldmtfl" - поиск цели из 2.8, выстрел шеллами лиговский (из tf2.8.1b1).
      Любое другое - поиск цели новый, выстрел шеллами новый.
      // Просто возможность выбора :)

Общее:
[fix] Убран баг пропадания последней гранаты, при взятии goal_item.
      // Раньше при взятии ряда goal_item (флаги, рюкзаки...) пропадала последняя
      зажатая граната определенного типа. В некоторых случаях (тачдаун флага) это
      распространялась не только на самого взявшего, но и на всю его команду.
[fix] Пофикшен баг позволяющий получать из goal_item гранат больше положенного.
      // На некоторых картах можно было взять больше гранат, чем положено данному классу.
[fix] Убраны ошибки возникающие при взятии армора из goal_item.
      // Теперь армор из рюкзаков берется всегда, причем именно максимально
      возможного, для данного класса, цвета.
[fix] Убран баг с дупликацией флагов.
      // Раньше, если взять флаг в течении 0.1 до его возвращения, тот брался и возвращался
      одновременно. То есть, на карте появлялось два (и более) флага одного цвета.
[fix] Убран баг с "reload" при вкюченном sbar.
      // Если при включенном sbar вы сбросывали все патроны к оружию, а потом их подбирали,
      то вместо выстрела у вас сначала производился релоад.
[fix] Убрана ошибка вывода командного счета в sbar.
      // Раньше, в определенных ситуациях, в sbar мог дважды выводился счет одной и той же
      команды.
[fix] Убран баг вывода счета в sbar, из-за которого счета равные 100 ранее не показывались.
      // Раньше при счете равном 100 (10 флагов) информация о нем не выводилась в sbar.
[fix] Убрана ошибка с отображением currentammmo.
      // В некоторых случаях, количество патронов в меню уменьшалось не на 1, а на 2.
[fix] Трупы больше не нажимают кнопки, не блокируют двери и платформы.
      // Раньше можно было лежать трупом на кнопках от ряда дверей или рядом с некоторыми
      из этих дверей и они оставлись открытыми, так как реагировали на труп, как на живого.
[fix] Гранаты не взрываются в себе после респавна при "respawn_delay 0".
      // Гранаты, зажатые перед смертью, ранее часто рвались в игроке уже после его респавна.
[fix] Убран баг с задержкой при выбросе гранат (OmiTF).
      // Иногда при выбросе гранаты возникала дополнительная задержка. Теперь этого нет.
[fix] Аптечки лечат повреждения ног, даже если здоровье у игрока больше или равно
      максимальному.
      // Актуально там, где повреждения ног замедляют скорость.
      Например, при использовании калтропов или лег-шотах снайпера.
[fix] Закрыта основная масса дырок, позволяющая менять цвет и скин любым классом.
      // Раньше, легко можно было разгуливать в чужом скине и цвете хоть всю игру.
[fix] Закрыт ряд возможностей для несанкционированной смены цвета и скина спаем.
      Регулируется серверной переменной cheat pause: "localinfo cp <time>" (default 1).
      Для игры на инетных серверах рекомендуется ее значение слегка увеличивать.
      // Так как спай будет постоянно менять цвет и скин, использую команду "disguise",
      то при полном снятии с него задержки на проверку оных, может резко увеличиться число
      покиканых сервером спаев, с плохой связью :). Во избежании подобных проблем, время
      задержки перед проверкой можно выставлять опционально (ранее оно было равно 10).
[add] Теперь на сервере по умолчанию "old_grens on".
      // Что бы каждый раз не приходилось включать флэши вместо калтропов :)
[add] Команда "showtf" показывает и все новые опциональные настройки.
      // Можно посмотреть данные настройки сервера даже не имея rcon.
[add] Для сервера добавлен запуск mapdefault.cfg перед запуском mapname.cfg
      // Так надо :)
[new] Встроенный autoid, делает "id" раз в секунду, не используя импульсы.
      Включается "setinfo autoid on", срабатывает при следующем респавне.
      // Ранее, для реализации autoid, игроки биндили команду "id" себе на движения.
      Из-за этого часто не срабатывали другие, причем более важные импульсы.
      Да и просто клиент постоянно слал ненужные импульсы на сервер.
      Теперь же данная информация передается всем желающим автоматически,
      вообще без использования импульсов.
[new] Добавлена новая возможность настройки через битовую маску "setinfo s <число>"
      1 - exec map on
      2 - exec class on
      4 - class help on
      8 - autoid on
      16 - multiscan off (только для скаута)
      32 - отключение вывода по showclasses информации о здоровье и броне.
      64 - включение вывода по showclasses информации о координатах.
      128 - отключение вывода по showclasses информации о скине спаев.
      256 - включение вывода по showclasses информации о детпаках.
      512 - включение вывода по showclasses информации о сентри ганах.
      1024 - снятие скриншота в конце карты
      2048 - запуск звука count.wav при взведении гранаты
      // Сделано для экономии места в setinfo.
[new]
     Добавлены команды cmd:
       bot - управление ботами( если на сервере включены боты)
       tg  - настройки training ground mode
       vote - голосование ( changemap, admin, timelimit, map )
       set - настройки клиента (sb - HWG shell backup, sbar_res, sbar_size, mxs, mxn, mxr, mxc, set_bits, classhelp, multiscan, exec_class, exec_map, take_sshot, grensound)
       admin - команды админа ( auth - 0, kick - 1 , map - 2, status - 3, ban - 3, banlist - 3, unban - 3, red_def - 1, console - 999 )
              статус админа можно получить через голосование(уровень в localinfo electlevel),
              через /cmd admin auth <pass>, пароль в localinfo apw/adminpwn, уровень в localinfo adminlevel
       discard - выполнить discard с возможностью указания что и в каком количестве сбрасывать
       sg_rotate
       detpack
[new] Настраиваемый дискард:
      "setinfo mxs <сколько оставить>" или "setinfo 1 <сколько оставить>"
      "setinfo mxn <сколько оставить>" или "setinfo 2 <сколько оставить>"
      "setinfo mxr <сколько оставить>" или "setinfo 3 <сколько оставить>"
      "setinfo mxc <сколько оставить>" или "setinfo 4 <сколько оставить>"
      Пустая строка означает стандартный дискард для данных боеприпасов.
      // Сделать настраиваемый сброс патронов можно сделать и в клиенте, через "dropammo"
      Однако, из-за кучи расбросаных коробок были проблемы с числом entity на сервере.
      Тепепь все ненужные боеприпасы можно сбрасывать проще и одним рюкзаком.
[new] В "showclasses" добавлена информация об арморе, здоровье и координатах игроков.
      // Упрощенный треккер, доступный всем. Легко преобразуется в полноценный треккер
      на худах уже в самом клиенте. Очень полезная, для координации внутри команды, вещь.
[new] Реализовано сохранение наиболее важных импульсов.
      // Импульсы терялись во время стрельбы, так как во время анимации выстрела нельзя
     пользоватся импульсами. Раньше такие импульсы терялись, теперь они срабатывают по
     окончании анимации. При стрельбе из пулеметов надо делать паузу, что импульс сработал.
[new] Возможность фиксировать единый цвет topcolor для каждой из команд.
      Включается на сервере (срабатыает после смены карты):
      "localinfo tc1 <color>"
      "localinfo tc2 <color>"
      "localinfo tc3 <color>"
      "localinfo tc4 <color>"
      По умолчанию цвет topcolor равен цвету команды. Диапазон выбора цвета от 0 до 15.
      Если установленно хоть одно из этих значений, то включается серверная проверка topcolor.
      // Если кто забыл, использование команды topcolor официально запрещено правилами.
      Но всегда находятся те, кто этот запрет нарушает и те, кто этим нарушением недоволен.
      Теперь данную проблему можно легко и быстро решить серверно :).
      Кроме того, есть возможноть присваивать команде определенный единый цвет topcolor,
      отличный от цвета самой команды. Это будет крайне полезно для распознавания своих
      соклановцев на турнирах, где одному и тому же клану часто приходится играть за разные
      цвета. Причем, всё это осуществляется не ущемляя права спаев. Так как при смене ими
      командного цвета, топколор так же автоматически будет меняться на вражеский.
[opt] Возможность вывода времени до возврата флага по команде "flaginfo".
      Выключается на сервере "localinfo flag_timer off" или "localinfo ft off".
      // Так как часть игроков сейчас уже использует таймеры, написаные по средствам
      возможностей современных клиентов, то будет вполне логично упостить получение данной
      информации и сделать ее доступной вообще всем.
[opt] Возможность сбрасывать goal_item, в независимости от ограничений, выставленых на
      каждой конкретной карте. Сбрасывание производится стандартной командой "dropitems".
      Включается на сервере "localinfo allow_drop_goal on" или "localinfo adg on".
      // Возможность сбрасывать goal_item вообще и флаги в частности, была в ТФ давно.
      Однако, на большинстве карт, эта возможность не разрешена в свойствах самих флагов.
      Теперь, в случае необходимости, ее можно разрешить везде, не переделывая сами карты.
[opt] Реализован рандомный командный респавн (включен на сервере по умолчанию).
      Выключается на сервере "localinfo random_team_spawn off" или "localinfo rts off".
      // Порядок точек респавна будет задаваться не циклически (как сейчас прописано
      в самой карте), а по случаному принципу. Таким образом будет нельзя заранее просчитать
      место своего последующего респавна.
[opt] Возможность запрета использования powerups на всех картах.
      Включается на сервере "localinfo disable_powerups on" или "localinfo dp on".
      // Что бы не переделывать каждую новую карту в отдельности.
      Разумеется для нынешних лиговских карт эта опция просто не нужна.
[opt] Возможность запрета использования определенных гранат и детпака.
      Включается на сервере "localinfo disable_grens <число>" или "localinfo dg <число>".
      2 - NORMAL
      4 - CONCUSSION
      8 - NAIL
      16 - MIRV
      32 - NAPALM
      64 - FLARE
      128 - GAS
      256 - EMP
      512 - FLASH
      1024 - CALTROPS
      2048 - DETPACK
      // Что бы не переделывать каждую новую карту в отдельности и иметь возможность
      гибкой настройки запретов. Нужно приемущественно для аренных и мясных карт.
[opt] Возможность подбирать из рюкзаков убитых не только патроны.
      Включается на сервере "localinfo g2b <число>"
      1 - GREN
      2 - GREN_BYTYPE
      4 - ARMOR
      8 - HEALTH
      16 - DETPACK
      // Возможность более чем логичная, но изначально в тф отсутствующая.
      При "1" гранаты берутся как в нычке, то есть различаются лишь на gren1 и gren2.
      При "2", можно взять лишь гранаты того типа, что может использовать сам класс,
      которым играет, подобравший рюкзак. Например, солдат не сможет взять напалм.
      Армор берется лишь в случае, когда его в рюкзаке больше, чем у самого игрока.
      Здоровье берется только из рюкзаков медика, при наличии в нем медикитов.
      Сделано опционально, так как влияние на геймплей будет весьма существенным.
[opt] Автоматическое выставление части настроек, в соответсвии с конфигом MTFL.
      Включается на сервере "localinfo mtfl on".
      Отображается в "showtf" как "MTFL Settings ON".
      mtfl = 1
      allow_hook = 0
      old_grens = 1
      invis_only = 0
      cheat_pause = 1
      topcolor_check =1
      allow_drop_goal = 0
      add_pipe = 1
      new_flash = 1
      new_gas = 131
      sentry_type = SENTRY_NEW
      sgppl = 12
      disable_grens = 0
      dtpb = 1
      disable_powerups = 0
      flag_timer = 1
      snip_fps = 72
      snip_range_fix = 0
      snip_ammo = 1
      snip_time = 1.5
      gren2box = 0
      random_tf_spawn = 1
      (для данных настроек значение localinfo игнорируется)

Данная версия не является окончательной.

Написано на основе TF 2.8.1, c применением кода из TF 2.8.1b1, TF 2.9, Clan TF 3.0,
Dragon TF, Omi TF и целого ряда оригинальных разработок.

Идеи и программирование - [sd] angel
Идеи, бета-тестирование и составление документации - [sd] hunter

http://clan.sd.ru
http://mtfl.sd.ru
